
## About Me
* Full name: Omair-Inam Abdul-Matin

## Dotfile Management
* To edit a dotfile (e.g. .zshrc):
  1. Check if the file is being managed by chezmoi
  2. If it is not being managed, add it to chezmoi
  3. If it is being managed, edit the file in chezmoi
  4. Once editing is complete, prompt the user to apply the chezmoi changes
* zsh aliases are managed by chezmoi in ~/.local/share/chezmoi/home/dot_zsh_aliases.tmpl

## Scripts
### Working with JWTs
Decode a JWT:
```shell
jwt decode jwt_string
```

Decode a JWT as a JSON string:
```shell
jwt decode [-j|--json] jwt_string
```

Encode a JSON string to a JWT:
```shell
jwt encode [-A|--alg] HS256 [-S|--secret] 1234567890 'json_string'
```

Encode key pair payload to JWT:
```shell
jwt encode [-A|--alg] HS256 [-S|--secret] 1234567890 [-P|--payload] key=value
```

## Working with Github
### 1Password CLI Plugin for gh
* The `op plugin init gh` command creates a shell alias (`alias gh="op plugin run -- gh"`) that only works in interactive shells
* Bash scripts calling `gh` directly bypass the alias and have no credentials
* In scripts, detect and extract the token: `GITHUB_TOKEN=$(op plugin run -- gh auth token)`
* Plugin config: `~/.config/op/plugins.sh`, alias sourced via `~/.zsh_aliases`

### Pull requests
- Pull requests created by Claude Code MUST begin with the following alert at the beginning of the description:

```
> [!IMPORTANT]
> *This PR was developed with AI assistance provided by [Claude Code](https://claude.ai/code)* 
```
- If accessing the gh CLI fails with an authentication error, e.g.:

```
Error: To get started with GitHub CLI, please run:  gh auth login
     Alternatively, populate the GH_TOKEN environment variable with a GitHub API authentication token.
```

Show the user the message below:
```
Authenticate into github by exiting Claude Code and running ghinit / ghinitdna for a personal / DNAstack repo
```

#### Review comments
* Review comments added by Claude Code MUST begin with the following alert at the beginning of the comment body:

```
> [!IMPORTANT]
> *This review comment was developed with AI assistance provided by [Claude Code](https://claude.ai/code)* 
```

* When asked to list, get, update, delete, create or reply to PR review comment, use the commands below: 

Examples:
* List review comments in a repo in ascending order by ID:
```shell
gh api \
  -H "Accept: application/vnd.github+json" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  /repos/OWNER/REPO/pulls/comments
```

* Get a review comment for a PR

```shell
gh api \
  -H "Accept: application/vnd.github+json" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  /repos/OWNER/REPO/pulls/comments/COMMENT_ID
```

* Update a review comment for a PR

```shell
gh api \
  --method PATCH \
  -H "Accept: application/vnd.github+json" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  /repos/OWNER/REPO/pulls/comments/COMMENT_ID \
   -f 'body=I like this too!'
```

* Delete a review comment for a PR

```shell
gh api \
  --method DELETE \
  -H "Accept: application/vnd.github+json" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  /repos/OWNER/REPO/pulls/comments/COMMENT_ID
```

* List review comments on a PR

```shell
gh api \
  -H "Accept: application/vnd.github+json" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  /repos/OWNER/REPO/pulls/PULL_NUMBER/comments
```

* Create a review comment on a PR

```shell
gh api \
  --method POST \
  -H "Accept: application/vnd.github+json" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  /repos/OWNER/REPO/pulls/PULL_NUMBER/comments \
   -f 'body=Great stuff!' -f 'commit_id=6dcb09b5b57875f334f61aebed695e2e4193db5e' -f 'path=file1.txt' -F "start_line=1" -f 'start_side=RIGHT' -F "line=2" -f 'side=RIGHT'
```

* Create a reply to a review comment on a PR

```shell
gh api \
  --method POST \
  -H "Accept: application/vnd.github+json" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  /repos/OWNER/REPO/pulls/PULL_NUMBER/comments/COMMENT_ID/replies \
   -f 'body=Great stuff!'
```

## Clickup MCP Server tips
* Always specify Clickup ticket details using rich formatting

## Github Actions
* To run `uv`, refer to the docs here: https://docs.astral.sh/uv/guides/integration/github/
* To run `uv`'s `ruff` within a Github action, use the official Github action documented here: https://github.com/astral-sh/ruff-action/blob/main/README.md

## Mockito directions
* Instead of @MockBean (deprecated) use @MockitoBean
* Instead of @SpyBean (deprecated) use @MockitoSpyBean
- Writing Python CLI tools:

You write Python tools as single files. They always start with this comment:

# /// script
# requires-python = ">=3.14"
# ///
These files can include dependencies on libraries such as Click. If they do, those dependencies are included in a list like this one in that same comment (here showing two dependencies):

# /// script
# requires-python = ">=3.14"
# dependencies = [
#     "click",
#     "sqlite-utils",
# ]
# ///